<template name="Sign">
 
	  <form class="Add form-group">
        <div>
            <h3>Ajout:</h3>
			<p>Version<input type="number" name="Version" class="form-control"></p>
			<p>Nom<input type="text" name="Name" value="{{FileName}}" class="form-control"></p>
			
			<p>Hash(SHA256)<input type="text" name="Hash" value="{{Hash}}" class="form-control"></p>
			<p><input type="submit" name="Add" class="btn btn-default"></p>
			
            {{#if DisplayPrice}}
                {{> DisplaySignPrice}}
			{{/if}}

        </div>
	</form>
		{{> dropzone}}
		
        {{#if WaitingTransaction}}
            {{> loading}}
        {{/if}}
        {{#if DisplayKO}}
            {{> DisplayKOMessage}}
        {{else}}
            {{#if ProgressBar}}
                {{> DisplayProgressBar}}
            {{/if}}
            {{#if DisplayOK}}
                {{> DisplayOKMessage}}
            {{/if}}
        {{/if}}


		
</template>

<template name="DisplaySignPrice">
    <div>
        <li> <b>Coût de la signature :</b> {{Price}} finney ({{PriceEur}} &euro;)</li>
    </div>
</template>

<template name="dropzone">
  <div class="row">
    <div class="col-md-12">
      <div id="dropzone" class="dropzone">
        <div class="well well-drop-zone">
          Déposez le fichier ici pour obtenir l'emprunte (l'emprunte est calculée localement)
        </div>
      </div>
    </div>
  </div>
</template>

<template name="DisplayOKMessage">
   <div class="alert alert-success alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        L'emprunte du fichier a été correctement enregistrée
    </div>
 </template>


<template name="DisplayKOMessage">
    <div class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" name="CloseBox" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        {{DisplayKO}}
    </div>
</template>

<template name="loading">

    <div class="modal fade in" id="MyModal" style="display: block;">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                    <span class="sr-only">Close</span>
                    </button>
                    <h4 class="modal-title">Préparation de l'enregistrement &hellip;</h4>
                </div>
                <div class="modal-body">
                    <p><div class="container">
                        <button class="btn btn-lg btn-warning"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Chargement...</button>
                </div></p>
            </div>
            <div class="modal-footer">
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
    </div><!-- /.modal -->  
</template>


<template name="DisplayProgressBar">
	<div class="progress">
		<div class="progress-bar" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: {{progress}}%;">
		{{progress}}% Complete
		</div>
	</div>
</template>
